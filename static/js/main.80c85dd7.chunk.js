(this.webpackJsonpfirebase=this.webpackJsonpfirebase||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t),n.d(t,"auth",(function(){return U})),n.d(t,"firestore",(function(){return H})),n.d(t,"AuthContext",(function(){return M}));var i=n(1),c=n.n(i),a=n(15),r=n.n(a),o=(n(83),n(26)),s=(n(84),n(124)),j=n(127),d=n(128),u=n(133),l=n(42),b="/login",h="/chat",x=n(31),O=n(7),v=function(){var e=Object(i.useContext)(M).auth,t=Object(x.a)(e),n=Object(o.a)(t,1)[0];return Object(O.jsx)(s.a,{color:"secondary",position:"static",children:Object(O.jsx)(j.a,{variant:"dense",children:Object(O.jsx)(d.a,{container:!0,justify:"flex-end",children:n?Object(O.jsx)(u.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"Logout"}):Object(O.jsx)(l.b,{to:b,children:Object(O.jsx)(u.a,{variant:"outlined",children:"Login"})})})})})},p=n(17),f=n(41),g=n.n(f),m=n(50),y=n(129),w=n(132),C=n(28),I=n(134),k=n(130),L=n(69),A=function(){return Object(O.jsx)(y.a,{children:Object(O.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(O.jsx)(d.a,{container:!0,alignItems:"center",direction:"column",children:Object(O.jsxs)("div",{className:"lds-spinner",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})})})})},B=[{path:b,Component:function(){var e=Object(i.useContext)(M).auth,t=function(){var t=Object(m.a)(g.a.mark((function t(){var n,i,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new C.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:i=t.sent,c=i.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)(y.a,{children:Object(O.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(O.jsx)(d.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(O.jsx)(w.a,{p:5,children:Object(O.jsx)(u.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c \u0433\u0443\u0433\u043b"})})})})})}}],P=[{path:h,Component:function(){var e=Object(i.useContext)(M),t=e.auth,n=e.firestore,c=Object(x.a)(t),a=Object(o.a)(c,1)[0],r=Object(i.useState)(""),s=Object(o.a)(r,2),j=s[0],l=s[1],b=Object(L.a)(n.collection("messages").orderBy("createdAt")),h=Object(o.a)(b,2),v=h[0],p=h[1],f=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:null===a||void 0===a?void 0:a.uid,displayName:null===a||void 0===a?void 0:a.displayName,photoURL:null===a||void 0===a?void 0:a.photoURL,text:j,createdAt:C.a.firestore.FieldValue.serverTimestamp()}),l("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p?Object(O.jsx)(A,{}):Object(O.jsx)(y.a,{children:Object(O.jsxs)(d.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(O.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:null===v||void 0===v?void 0:v.map((function(e){return Object(O.jsxs)("div",{style:{margin:10,border:(null===a||void 0===a?void 0:a.uid)===e.uid?"2px solid green":"2px dashed red",marginLeft:(null===a||void 0===a?void 0:a.uid)===e.uid?"auto":"10px",width:"fit-content",padding:5},children:[Object(O.jsxs)(d.a,{container:!0,children:[Object(O.jsx)(I.a,{src:e.photoURL}),Object(O.jsx)("div",{children:e.displayName})]}),Object(O.jsx)("div",{children:e.text})]})}))}),Object(O.jsxs)(d.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(O.jsx)(k.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:j,onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(u.a,{onClick:f,variant:"outlined",children:"Send"})]})]})})}}],S=function(){var e=Object(i.useContext)(M).auth,t=Object(x.a)(e);return Object(o.a)(t,1)[0]?Object(O.jsxs)(p.d,{children:[P.map((function(e){var t=e.path,n=e.Component;return Object(O.jsx)(p.b,{path:t,component:n,exact:!0},t)})),Object(O.jsx)(p.a,{to:h})]}):Object(O.jsxs)(p.d,{children:[B.map((function(e){var t=e.path,n=e.Component;return Object(O.jsx)(p.b,{path:t,component:n,exact:!0},t)})),Object(O.jsx)(p.a,{to:b})]})};var F=function(){var e=Object(i.useContext)(M).auth,t=Object(x.a)(e),n=Object(o.a)(t,3),c=(n[0],n[1]);return n[2],c?Object(O.jsx)(A,{}):Object(O.jsxs)(l.a,{children:[Object(O.jsx)(v,{}),Object(O.jsx)(S,{})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),a(e),r(e)}))};n(95),n(96);C.a.initializeApp({apiKey:"AIzaSyBWKArwCPRvU3xHk7xUbOEXY7le36c1B5Q",authDomain:"chat-react-82197.firebaseapp.com",projectId:"chat-react-82197",storageBucket:"chat-react-82197.appspot.com",messagingSenderId:"896457143174",appId:"1:896457143174:web:aa3d9d64765cb0c069f207",measurementId:"G-3MQNZMWYVK"});var U=C.a.auth(),H=C.a.firestore(),M=c.a.createContext({firebase:C.a,auth:U,firestore:H});r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M.Provider,{value:{firebase:C.a,auth:U,firestore:H},children:Object(O.jsx)(F,{})})}),document.getElementById("root")),N()}},[[97,1,2]]]);
//# sourceMappingURL=main.80c85dd7.chunk.js.map