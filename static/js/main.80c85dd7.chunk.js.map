{"version":3,"sources":["utils/consts.ts","components/Navbar.tsx","components/Loader.tsx","routes.ts","components/Login.tsx","components/Chat.tsx","components/AppRouter.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Navbar","auth","useContext","AuthContext","useAuthState","user","AppBar","color","position","Toolbar","variant","Grid","container","justify","Button","onClick","signOut","to","Loader","Container","style","height","window","innerHeight","alignItems","direction","className","publicRoutes","path","Component","login","a","provider","firebase","GoogleAuthProvider","signInWithPopup","console","log","width","background","Box","p","privateRoutes","firestore","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","add","uid","displayName","photoURL","text","createdAt","FieldValue","serverTimestamp","marginTop","border","overflowY","map","message","margin","marginLeft","padding","Avatar","src","TextField","fullWidth","rowsMax","onChange","e","target","AppRouter","component","exact","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","React","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.80c85dd7.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'","import AppBar from \"@material-ui/core/AppBar\";\r\nimport React, {useContext} from \"react\";\r\nimport {Button, Grid, Toolbar} from \"@material-ui/core\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {AuthContext} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nexport const Navbar = () => {\r\n    const {auth} = useContext(AuthContext)\r\n    const [user] = useAuthState(auth)\r\n\r\n    return (\r\n        <AppBar color={'secondary'} position=\"static\">\r\n            <Toolbar variant=\"dense\">\r\n                <Grid container justify={'flex-end'}>\r\n                    {user ?\r\n                        <Button onClick={()=> auth.signOut()} variant={'outlined'}>Logout</Button>\r\n                        :\r\n                        <NavLink to={LOGIN_ROUTE}>\r\n                            <Button variant={'outlined'}>Login</Button>\r\n                        </NavLink>\r\n                    }\r\n                </Grid>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}","import React from \"react\";\r\nimport {Container, Grid} from \"@material-ui/core\";\r\n\r\nexport const Loader =()=>{\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  style={{height: window.innerHeight - 50}}\r\n                  alignItems={'center'}\r\n                  justify={'center'}\r\n            >\r\n                <Grid container\r\n                      alignItems={'center'}\r\n                      direction={'column'}\r\n                >\r\n                    <div className=\"lds-spinner\">\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n} ","import {CHAT_ROUTE, LOGIN_ROUTE} from \"./utils/consts\";\r\nimport {Login} from \"./components/Login\";\r\nimport {Chat} from \"./components/Chat\";\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]","import React, {useContext} from \"react\";\r\nimport {Box, Button, Container, Grid} from \"@material-ui/core\";\r\nimport {AuthContext} from \"../index\";\r\nimport firebase from \"firebase\";\r\n\r\nexport const Login = () => {\r\n    const {auth} = useContext(AuthContext)\r\n\r\n    const login = async ()=>{\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        const {user} = await auth.signInWithPopup(provider)\r\n        console.log(user)\r\n    }\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  style={{height: window.innerHeight - 50}}\r\n                  alignItems={'center'}\r\n                  justify={'center'}\r\n            >\r\n                <Grid style={{width: 400, background: 'lightgray'}}\r\n                      container\r\n                      alignItems={'center'}\r\n                      direction={'column'}\r\n                >\r\n                    <Box p={5}>\r\n                        <Button onClick={login} variant={'outlined'}>Войти с помощь гугл</Button>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}","import React, {useContext, useState} from \"react\";\r\nimport {AuthContext} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Avatar, Button, Container, Grid, TextField} from \"@material-ui/core\";\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport {Loader} from \"./Loader\";\r\nimport firebase from \"firebase\";\r\n\r\nexport const Chat = () => {\r\n    const {auth, firestore} = useContext(AuthContext)\r\n    const [user] = useAuthState(auth)\r\n    const [value, setValue] = useState('')\r\n    const [messages, loading] = useCollectionData(\r\n        firestore.collection('messages').orderBy('createdAt')\r\n    )\r\n\r\n    const sendMessage = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user?.uid,\r\n            displayName: user?.displayName,\r\n            photoURL: user?.photoURL,\r\n            text: value,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setValue('')\r\n    }\r\n    if (loading) {\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  justify={'center'}\r\n                  style={{height: window.innerHeight - 50, marginTop: 20}}>\r\n                <div style={{width: '80%', height: '60vh', border: '1px solid gray', overflowY: 'auto'}}>\r\n                    {messages?.map(message =>{\r\n                        return(\r\n                            <div style={{\r\n                                margin: 10,\r\n                                border: user?.uid === message.uid ? '2px solid green' : '2px dashed red',\r\n                                marginLeft: user?.uid === message.uid ? 'auto' : '10px',\r\n                                width: 'fit-content',\r\n                                padding: 5\r\n                            }}>\r\n                                <Grid container>\r\n                                    <Avatar src={message.photoURL}/>\r\n                                    <div>{message.displayName}</div>\r\n                                </Grid>\r\n                                <div>{message.text}</div>\r\n                            </div>\r\n                        )}\r\n                    )}\r\n                </div>\r\n                <Grid container\r\n                      direction={'column'}\r\n                      alignItems={'flex-end'}\r\n                      style={{width: '80%'}}\r\n                >\r\n                    <TextField\r\n                        fullWidth\r\n                        rowsMax={2}\r\n                        variant={'outlined'}\r\n                        value={value}\r\n                        onChange={e => setValue(e.target.value)}\r\n                    />\r\n                    <Button onClick={sendMessage} variant={'outlined'}>Send</Button>\r\n                </Grid>\r\n\r\n            </Grid>\r\n        </Container>\r\n    )\r\n} ","import React, {useContext} from \"react\";\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from \"../routes\";\r\nimport {CHAT_ROUTE, LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {AuthContext} from \"../index\";\r\n\r\n\r\nexport const AppRouter =()=>{\r\n    const {auth} = useContext(AuthContext)\r\n    const [user] = useAuthState(auth)\r\n    return user ?\r\n        (\r\n            <Switch>\r\n                {privateRoutes.map(({path, Component})=>\r\n                    <Route key={path} path={path} component={Component} exact  />\r\n                )}\r\n                <Redirect to={CHAT_ROUTE} />\r\n            </Switch>\r\n        )\r\n        :\r\n        (\r\n            <Switch>\r\n                {publicRoutes.map(({path, Component})=>\r\n                    <Route key={path} path={path} component={Component} exact />\r\n                )}\r\n                <Redirect to={LOGIN_ROUTE} />\r\n            </Switch>\r\n        )\r\n}","import React, {useContext} from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/Navbar\";\nimport {AppRouter} from \"./components/AppRouter\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {AuthContext} from \"./index\";\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport {Loader} from \"./components/Loader\";\n\nfunction App() {\n    const {auth} = useContext(AuthContext)\n    const [user, loading, error] = useAuthState(auth)\n    if(loading){\n        return <Loader />\n    }\n\n    return (\n        <BrowserRouter>\n            <Navbar/>\n            <AppRouter/>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from \"firebase\";\nimport 'firebase/firestore'\nimport 'firebase/auth'\nexport type Auth = firebase.auth.Auth;\ntype Firestore = firebase.firestore.Firestore;\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBWKArwCPRvU3xHk7xUbOEXY7le36c1B5Q\",\n    authDomain: \"chat-react-82197.firebaseapp.com\",\n    projectId: \"chat-react-82197\",\n    storageBucket: \"chat-react-82197.appspot.com\",\n    messagingSenderId: \"896457143174\",\n    appId: \"1:896457143174:web:aa3d9d64765cb0c069f207\",\n    measurementId: \"G-3MQNZMWYVK\"\n}; //this is where your firebase app values you copied will go\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth:Auth = firebase.auth();\nexport const firestore: Firestore = firebase.firestore();\nexport const AuthContext = React.createContext({firebase, auth, firestore});\n\nReactDOM.render(\n    <React.StrictMode>\n        <AuthContext.Provider value={{\n            firebase,\n            auth,\n            firestore\n        }}>\n            <App/>\n        </AuthContext.Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}